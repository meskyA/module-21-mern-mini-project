(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(23),s=c.n(a),o=(c(28),c(9)),i=c(2),h=c(4),j=c(6),u=c(5),b=c(3),l=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(h.a)().mark((function e(){var t,c;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/matchup",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("No list of matchups");case 6:return e.next=8,t.json();case 8:c=e.sent,r(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsxs)("div",{className:"card bg-white card-rounded w-50",children:[Object(b.jsx)("div",{className:"card-header bg-dark text-center",children:Object(b.jsx)("h1",{children:"Welcome to Tech Matchup!"})}),Object(b.jsxs)("div",{className:"card-body m-5",children:[Object(b.jsx)("h2",{children:"Here is a list of matchups you can vote on:"}),Object(b.jsx)("ul",{className:"square",children:c.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsxs)(o.b,{to:{pathname:"/matchup/".concat(e._id)},children:[e.tech1," vs. ",e.tech2]})},e._id)}))})]}),Object(b.jsxs)("div",{className:"card-footer text-center m-3",children:[Object(b.jsx)("h2",{children:"Ready to create a new matchup?"}),Object(b.jsx)(o.b,{to:"/matchup",children:Object(b.jsx)("button",{className:"btn btn-lg btn-danger",children:"Create Matchup!"})})]})]})},d=c(7),p=c(22),O=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)({tech1:"JavaScript",tech2:"JavaScript"}),s=Object(u.a)(a,2),o=s[0],l=s[1],O=Object(i.l)();Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(h.a)().mark((function e(){var t,c;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/tech",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("No list of technologies");case 6:return e.next=8,t.json();case 8:c=e.sent,r(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=function(e){var t=e.target,c=t.name,n=t.value;l(Object(p.a)(Object(p.a)({},o),{},Object(d.a)({},c,n)))},m=function(){var e=Object(j.a)(Object(h.a)().mark((function e(t){var c,n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,r=o,fetch("/api/matchup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("something went wrong!");case 7:return e.next=9,c.json();case 9:n=e.sent,console.log(n),O("/matchup/".concat(n._id)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:l({tech1:"JavaScript",tech2:"JavaScript"});case 18:case"end":return e.stop()}var r}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"card bg-white card-rounded w-25",children:[Object(b.jsx)("div",{className:"card-header bg-dark text-center",children:Object(b.jsx)("h1",{children:"Let's create a matchup!"})}),Object(b.jsx)("div",{className:"card-body m-5",children:Object(b.jsxs)("form",{onSubmit:m,children:[Object(b.jsx)("label",{children:"Tech 1: "}),Object(b.jsx)("select",{name:"tech1",onChange:x,children:c.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name},e._id)}))}),Object(b.jsx)("label",{children:"Tech 2: "}),Object(b.jsx)("select",{name:"tech2",onChange:x,children:c.map((function(e){return Object(b.jsx)("option",{value:e.name,children:e.name},e._id)}))}),Object(b.jsx)("button",{className:"btn btn-danger",type:"submit",children:"Create Matchup!"})]})})]})},x=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),c=t[0],r=t[1],a=Object(i.n)().id;Object(n.useEffect)((function(){var e=function(){var e=Object(j.a)(Object(h.a)().mark((function e(){var t,c;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/matchup/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if((t=e.sent).ok){e.next=6;break}throw new Error("No matchup");case 6:return e.next=8,t.json();case 8:c=e.sent,r(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var s=function(){var e=Object(j.a)(Object(h.a)().mark((function e(t){var c,n;return Object(h.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s={id:a,techNum:t},fetch("/api/matchup/".concat(s),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 3:if((c=e.sent).ok){e.next=6;break}throw new Error("Could not vote");case 6:return e.next=8,c.json();case 8:n=e.sent,console.log(n),r(n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}var s}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"card bg-white card-rounded w-50",children:[Object(b.jsx)("div",{className:"card-header bg-dark text-center",children:Object(b.jsx)("h1",{children:"Here is the matchup!"})}),Object(b.jsxs)("div",{className:"card-body text-center mt-3",children:[Object(b.jsxs)("h2",{children:[c.tech1," vs. ",c.tech2]}),Object(b.jsxs)("h3",{children:[c.tech1_votes," : ",c.tech2_votes]}),Object(b.jsxs)("button",{className:"btn btn-info",onClick:function(){return s(1)},children:["Vote for ",c.tech1]})," ",Object(b.jsxs)("button",{className:"btn btn-info",onClick:function(){return s(2)},children:["Vote for ",c.tech2]}),Object(b.jsxs)("div",{className:"card-footer text-center m-3",children:[Object(b.jsx)("br",{}),Object(b.jsx)(o.b,{to:"/",children:Object(b.jsx)("button",{className:"btn btn-lg btn-danger",children:"View all matchups"})})]})]})]})};var m=function(){return Object(b.jsx)(o.a,{children:Object(b.jsx)("div",{className:"flex-column justify-center align-center min-100-vh bg-primary",children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{path:"/",element:Object(b.jsx)(l,{})}),Object(b.jsx)(i.a,{path:"/matchup",element:Object(b.jsx)(O,{})}),Object(b.jsx)(i.a,{path:"/matchup/:id",element:Object(b.jsx)(x,{})})]})})})};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.13275471.chunk.js.map